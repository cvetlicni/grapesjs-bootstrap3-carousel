/*! grapesjs-bootstrap3-carousel-plugin - 0.0.217 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["grapesjs-bootstrap3-carousel-plugin"]=e():t["grapesjs-bootstrap3-carousel-plugin"]=e()}(window,function(){return function(t){var e={};function i(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}([function(t,e,i){var a=i(2);t.exports=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(e){a(t,e,i[e])})}return t}},function(t,e,i){var a=i(3),s=i(4),n=i(5);t.exports=function(t){return a(t)||s(t)||n()}},function(t,e){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},function(t,e){t.exports=function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}},function(t,e){t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(t,e,i){"use strict";i.r(e);var a=i(0),s=i.n(a),n=i(1),o=i.n(n),r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.DomComponents,a=i.getType("default"),n=a.model,o=a.view,r=n.extend({defaults:s()({},n.prototype.defaults,{interval:e.interval,droppable:!1,removable:!0,attributes:{class:"".concat(e.prefixName," bst-carousel carousel slide"),"data-autoplay":1,"data-ride":"carousel","data-type":"slider","data-captions":1,"data-indicators":1,"data-interval":5e3},slides:e.slides,autoplay:e.autoplay,showCaptions:e.showCaptions,showIndicator:e.showIndicator,autoplayStopped:!1,moveTo:null,traits:[{label:"Auto play",name:"autoplay",changeProp:1,type:"checkbox"},{label:"Interval",name:"interval",changeProp:1,type:"number"},{label:"# Slides",name:"slides",changeProp:1,type:"number"},{label:"Captions",name:"showCaptions",changeProp:1,type:"checkbox"},{label:"Indicators",name:"showIndicator",changeProp:1,type:"checkbox"}],toolbar:[{attributes:{class:"far fa-trash-alt"},command:"tlb-delete"},{attributes:{class:"far fa-arrows"},command:"tlb-move"},{attributes:{class:"far fa-arrow-up"},command:"select-parent"}],script:function(){var t=this.getAttribute("data-interval")||"5000",e=1==this.getAttribute("data-autoplay"),i=this.getAttribute("data-moveto")||"",a=this.id,s=document.querySelectorAll("#".concat(a," .carousel-indicators li")),n=!0,o=!1,r=void 0;try{for(var l,d=s[Symbol.iterator]();!(n=(l=d.next()).done);n=!0){l.value.setAttribute("data-target","#".concat(a))}}catch(t){o=!0,r=t}finally{try{n||null==d.return||d.return()}finally{if(o)throw r}}var c=document.querySelectorAll("#".concat(a," .ch-carousel-control")),u=!0,p=!1,h=void 0;try{for(var m,g=c[Symbol.iterator]();!(u=(m=g.next()).done);u=!0){m.value.setAttribute("href","#".concat(a))}}catch(t){p=!0,h=t}finally{try{u||null==g.return||g.return()}finally{if(p)throw h}}var f=function(){jQuery.fn.carousel||(function(e){var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};function a(t){return this.each(function(){var a=e(this),s=a.data("bs.carousel"),n=e.extend({},i.DEFAULTS,a.data(),t),o="string"==typeof t?t:n.slide;s||a.data("bs.carousel",s=new i(this,n)),"number"==typeof t?s.setInterval(t):"string"==typeof o?s[o]&&s[o]():n.interval&&s.pause().cycle()})}i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:t,pause:"hover",wrap:!0,keyboard:!1},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(t,i){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval=i||this.options.interval,this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){this.$items=t.parent().children(".item");var e=this.$items.index(t||this.$active),i=this.$items.parent().parent().children()[0];return i&&i.innerText&&(i.innerText="".concat(e+1," of ").concat(this.$items.length)),e},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e);return("prev"==t&&0===i||"next"==t&&i==this.$items.length-1)&&!this.options.wrap?e:(i+("prev"==t?-1:1))%this.$items.length},i.prototype.setInterval=function(t){this.cycle(null,t)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t),this.$element.find(".captions-container").children().eq(t))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(t,a,s){this.$indicators=this.$element.find(".carousel-indicators");var n=this.$element.find(".item.active"),o=this.getItemForDirection(t,n),r=a||this.$items.eq(o),l=this.$element.find(".captions-container"),d=this.$element.find(".ch-carousel-caption.active"),c=s||l.children().eq(o),u=this.interval,p="next"==t?"left":"right",h=this;if(r.hasClass("active"))return this.sliding=!1;var m=r[0],g=e.Event("slide.bs.carousel",{relatedTarget:m,direction:p});if(this.$element.trigger(g),!g.isDefaultPrevented()){if(this.sliding=!0,u&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var f=e(this.$indicators.children()[this.getItemIndex(r)]);f&&f.addClass("active")}var v=e.Event("slid.bs.carousel",{relatedTarget:m,direction:p});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),c.addClass(t),r[0]&&r[0].offsetWidth,n.addClass(p),d.addClass(p),r.addClass(p),c.addClass(p),n.one("bsTransitionEnd",function(){r.removeClass([t,p].join(" ")).addClass("active"),c.removeClass([t,p].join(" ")).addClass("active"),n.removeClass(["active",p].join(" ")),d.removeClass(["active",p].join(" ")),h.sliding=!1,setTimeout(function(){h.$element.trigger(v)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),d.removeClass("active"),r.addClass("active"),c.addClass("active"),this.sliding=!1,this.$element.trigger(v)),u&&this.cycle(),this}};var s=e.fn.carousel;e.fn.carousel=a,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=s,this};var n=function(t){var i,s=e(this),n=e(s.attr("data-target")||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(n.hasClass("carousel")){var o=e.extend({},n.data(),s.data()),r=s.attr("data-slide-to");r&&(o.interval=!1),a.call(n,o),r&&n.data("bs.carousel").to(r),t.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);a.call(t,t.data())})})}(jQuery),function(t){t.fn.emulateTransitionEnd=function(e){var i=!1,a=this;t(this).one("bsTransitionEnd",function(){i=!0});return setTimeout(function(){i||t(a).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery)),jQuery("#".concat(a)).carousel({keyboard:!1}),jQuery("#".concat(a)).carousel(parseInt(t)),jQuery("#".concat(a)).carousel("pause"),!0===Boolean(e)&&jQuery("#".concat(a)).carousel("cycle"),i&&jQuery("#".concat(a)).carousel(i)};if("undefined"==typeof jQuery){var v=document.createElement("script");v.onload=f,v.src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js",document.body.appendChild(v)}else f()}})},{isComponent:function(t){return t.getAttribute&&"slider"===t.getAttribute("data-type")?{type:"slider"}:""}}),l=o.extend({events:{click:"click"},addSlide:function(){this.model.set("slides",parseInt(this.model.get("slides"))+1)},removeSlide:function(){this.model.set("slides",parseInt(this.model.get("slides"))-1)},updatePage:function(){var t=this;this.model.setAttributes(s()({"data-interval":this.model.get("interval"),"data-autoplay":this.model.get("autoplay")?1:0},this.model.getAttributes(),{"data-moveto":this.model.get("moveTo")})),this.updateScript(),setTimeout(function(){t.model.set("moveTo",null),t.updateScript()},600)},updateIndicator:function(){this.model.setAttributes(s()({},this.model.getAttributes(),{"data-indicators":1==this.model.get("showIndicator")?1:0})),this.model.get("showIndicator")?this.model.removeClass("indicator-none"):this.model.addClass("indicator-none")},updateCaptions:function(){this.model.setAttributes(s()({},this.model.getAttributes(),{"data-captions":1==this.model.get("showCaptions")?1:0}))},updateAutoplay:function(){this.model.setAttributes(s()({},this.model.getAttributes(),{"data-autoplay":1==this.model.get("autoplay")?1:0}))},updateInterval:function(){this.model.setAttributes(s()({},this.model.getAttributes(),{"data-interval":this.model.get("interval")}))},init:function(){var i=this;this.listenTo(this.model,"change:autoplay change:moveTo change:interval",this.updatePage),this.listenTo(this.model,"change:showIndicator",this.updateIndicator),this.listenTo(this.model,"change:showCaptions",this.updateCaptions),this.listenTo(this.model,"change:autoplay",this.updateAutoplay),this.listenTo(this.model,"change:interval",this.updateInterval);var a=this.model.components();setTimeout(function(){i.model.set("slides",i.model.view.el.childNodes[2].childNodes.length),i.model.set("showCaptions",1==i.model.getAttributes()["data-captions"]),i.model.set("showIndicator",1==i.model.getAttributes()["data-indicators"]),i.model.set("autoplay",1==i.model.getAttributes()["data-autoplay"]),i.model.set("interval",Number(i.model.getAttributes()["data-interval"]))},100),a.length||(a.add('\n                    <div class="carousel-page-counter">1 of 3</div>\n\n                    \x3c!-- Indicators --\x3e\n                    <ol class="carousel-indicators" data-type="'.concat(e.prefixName,'-indicators">\n                        <li data-target="#" data-slide-to="0" class="active indicator-point" data-gjs-type="indicator-point" data-type="indicator-point"></li>\n                        <li data-target="#" data-slide-to="1" class="indicator-point" data-gjs-type="indicator-point" data-type="indicator-point"></li>\n                        <li data-target="#" data-slide-to="2" class="indicator-point" data-gjs-type="indicator-point" data-type="indicator-point"></li>\n                    </ol>\n\n                    \x3c!-- Wrapper for slides --\x3e\n                    <div class="ch-carousel-inner" role="listbox" data-type="').concat(e.prefixName,'-slides">\n                        <div class="item carousel-item active" data-gjs-type="slide" data-type="slide"></div>\n                        <div class="item carousel-item" data-gjs-type="slide" data-type="slide"></div>\n                        <div class="item carousel-item" data-gjs-type="slide" data-type="slide"></div>\n                    </div>\n                    \n                    <div class="captions-container">\n                        <div class="ch-carousel-caption active" data-gjs-type="text" data-type="text">\n                            Slide 1\n                        </div>\n                        <div class="ch-carousel-caption" data-gjs-type="text" data-type="text">\n                            Slide 2\n                        </div>\n                        <div class="ch-carousel-caption" data-gjs-type="text" data-type="text">\n                            Slide 3\n                        </div>\n                    </div>\n\n                    \x3c!-- Controls --\x3e\n                    <a class="').concat(e.prefixName,' left ch-carousel-control" href="#" role="button" data-slide="prev">\n                        <svg width="12" height="21" viewBox="0 0 12 21" fill="none" xmlns="http://www.w3.org/2000/svg" class="carousel-svg left" data-type="svg" data-gjs-type="svg">\n                            <path class="carousel-svg left" d="M10.8281 20.7948C10.7344 20.8885 10.5938 20.9354 10.4531 20.9354C10.2656 20.9354 10.125 20.8885 10.0312 20.7948L0.234375 10.951C0.09375 10.8573 0.046875 10.7635 0.046875 10.576C0.046875 10.4354 0.09375 10.2948 0.234375 10.201L10.0312 0.3573C10.125 0.26355 10.2656 0.216675 10.4531 0.216675C10.5938 0.216675 10.7344 0.26355 10.8281 0.3573L11.7656 1.2948C11.8594 1.38855 11.9531 1.52917 11.9531 1.6698C11.9531 1.8573 11.8594 1.99792 11.7656 2.09167L3.28125 10.576L11.7656 19.0604C11.8594 19.201 11.9531 19.3417 11.9531 19.4823C11.9531 19.6698 11.8594 19.7635 11.7656 19.8573L10.8281 20.7948Z" fill="#6F6F6F"/>\n                        </svg>\n                    </a>\n                    <a class="').concat(e.prefixName,' right ch-carousel-control" href="#" role="button" data-slide="next">\n                        <svg width="12" height="21" viewBox="0 0 12 21" fill="none" xmlns="http://www.w3.org/2000/svg" class="carousel-svg right" data-type="svg" data-gjs-type="svg">\n                            <path class="carousel-svg right" d="M1.17188 0.3573C1.26562 0.26355 1.35938 0.216675 1.54688 0.216675C1.6875 0.216675 1.82812 0.26355 1.96875 0.3573L11.7656 10.201C11.8594 10.2948 11.9531 10.4354 11.9531 10.576C11.9531 10.7635 11.8594 10.8573 11.7656 10.951L1.96875 20.7948C1.82812 20.8885 1.6875 20.9354 1.54688 20.9354C1.35938 20.9354 1.26562 20.8885 1.17188 20.7948L0.234375 19.8573C0.09375 19.7635 0.046875 19.6698 0.046875 19.4823C0.046875 19.3417 0.09375 19.201 0.234375 19.0604L8.71875 10.576L0.234375 2.09167C0.09375 1.99792 0.046875 1.8573 0.046875 1.6698C0.046875 1.52917 0.09375 1.38855 0.234375 1.2948L1.17188 0.3573Z" fill="#6F6F6F"/>\n                        </svg>\n                    </a>\n                    ')),setTimeout(function(){return t.select(i.model)},100))},click:function(e){var i=e.target.getAttribute("class")?e.target.getAttribute("class").split(" "):[];(i.includes("carousel-indicators")||i.includes("ch-carousel-control")||i.includes("carousel-svg"))&&(e.preventDefault(),e.stopPropagation(),t.select(this.model)),(i.includes("ch-carousel-control")||i.includes("carousel-svg"))&&i.includes("left")&&this.model.set("moveTo","prev"),(i.includes("ch-carousel-control")||i.includes("carousel-svg"))&&i.includes("right")&&this.model.set("moveTo","next")},updateNumSlides:function(){var t=this.model.get("components"),e=this.model.get("slides"),i=this.model.get("autoplay");i&&this.model.set("autoplay",!1),t.models.forEach(function(t){return t.set("carouselSlides",e)}),i&&this.model.set("autoplay",!0)}});i.addType("slider",{model:r,view:l})},l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.DomComponents,a=i.getType("default"),n=a.model,o=a.view,r="mpgGallery",l=t.$,d=n.extend({defaults:s()({},n.prototype.defaults,{droppable:!1,jsSrc:e.mpgJs,cssSrc:e.mpgCss,traits:[],script:function(){var t=this.id,e=document.querySelector('script[src="{[ jsSrc ]}"]'),i=document.querySelector('link[href="{[ cssSrc ]}"]'),a=[];e||a.push(new Promise(function(t,e){var i=document.createElement("script");i.onload=t,i.onerror=e,i.src="{[ jsSrc ]}",document.body.appendChild(i)})),i||a.push(new Promise(function(t,e){var i=document.createElement("link");i.onload=t,i.onerror=e,i.rel="stylesheet",i.href="{[ cssSrc ]}",document.head.appendChild(i)})),Promise.all(a).then(function(){var e=document.getElementById(t);try{if(MaterialPhotoGallery&&e)return new MaterialPhotoGallery(e),void e.querySelectorAll("img").forEach(function(t){t.style.opacity=1,t.classList.remove("hide"),t.setAttribute("data-full",t.getAttribute("src")),t.classList.contains("m-p-g__thumbs-img")||t.classList.add("m-p-g__thumbs-img")});e.innerHTML="<h2>MaterialPhotoGallery is not loaded!</h2>",console.error("MaterialPhotoGallery is not loaded!")}catch(t){e.innerHTML="<h2>MaterialPhotoGallery is not loaded!</h2>",console.error("MaterialPhotoGallery is not loaded!",t)}})}})},{isComponent:function(t){return"DIV"===t.tagName&&t.className.includes("".concat(e.prefixName,"-m-p-g"))&&t.getAttribute&&"mpg-gallery"===t.getAttribute("data-type")?{type:r}:""}}),c=o.extend({events:{click:"click"},init:function(){},click:function(e){if(e.preventDefault(),e.stopPropagation(),e.target!==this.el){var i,a,s=(a=document.querySelectorAll("iframe.gjs-frame"),(i=a.length<1?document:a[0].contentDocument||a[0].contentWindow.document).parentWindow||i.defaultView),n=l(e.target).css("width"),o=l(e.target).css("height");t.select(e.target),s.onwheel=null,s.ontouchmove=null,l(e.target).css("opacity","1"),l(e.target).css("width",n),l(e.target).css("height",o),l(this.el).find(".m-p-g__controls").css("display","none"),l(this.el).find(".m-p-g__fullscreen").css("display","none"),this.updateScript()}}});i.addType(r,{model:d,view:c});var u=function(t){var e="function"==typeof t.parent?t.parent():null,i=e?e.parent()||e:null;i&&i.is(r)&&i.view&&i.view.updateScript&&i.view.updateScript()};t.on("component:clone",u),t.on("component:remove",u),t.on("component:update:src",u),t.on("canvas:drop",function(t,e){return u(e)}),t.on("sorter:drag:end",function(){return t.getSelected()&&u(t.getSelected())})},d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=t.DomComponents,i=e.getType("default"),a=i.model,n=i.view,o=a.extend({defaults:s()({},a.prototype.defaults,{droppable:!1,draggable:!1,copyable:!1,selectable:!1,removable:!1,stylable:!1,layerable:!1,carouselSlides:3,shouldRefresh:!0,showCaptions:!0,showIndicator:!0})},{isComponent:function(t){return""}});n.extend({});e.addType("carousel-base",{model:o,view:n})}(t,e),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.DomComponents,a=i.getType("carousel-base"),n=a.model,r=a.view,l=" carousel-indicator",d=n.extend({defaults:s()({},n.prototype.defaults,{selected:0,traits:[]})},{isComponent:function(t){return"OL"===t.tagName&&t.className.includes("carousel-indicators")&&t.getAttribute&&t.getAttribute("data-type")==="".concat(e.prefixName,"-indicators")?{type:l}:""}}),c=r.extend({init:function(){this.listenTo(this.model,"change:carouselSlides",this.updateSlides),this.listenTo(this.model.parent(),"change:showIndicator",this.toggleIndicator)},toggleIndicator:function(){var t=this.model.get("components");this.model.parent().get("showIndicator")?this.updateSlides():t.reset()},updateSlides:function(){var t=this.model.get("components"),e=parseInt(this.model.get("carouselSlides")),i=this.el.id,a="";o()(Array(e).keys()).forEach(function(t){var e=0===t?"active":"";a+='<li data-target="#'.concat(i,'" data-slide-to="').concat(t,'" class="').concat(e,' indicator-point" data-type="indicator-point" data-gjs-type="indicator-point"></li>')}),t.reset(),t.add(a)}});i.addType(l,{model:d,view:c})}(t,e),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.DomComponents,a=i.getType("carousel-base"),n=a.model,r=a.view,l="carousel-slide",d=n.extend({defaults:s()({},n.prototype.defaults,{draggable:!1,traits:[],orderId:[]})},{isComponent:function(t){return"DIV"===t.tagName&&t.className.includes("ch-carousel-inner")&&t.getAttribute&&t.getAttribute("data-type")==="".concat(e.prefixName,"-slides")?{type:l}:""}}),c=r.extend({init:function(){this.listenTo(this.model.components(),"add",this.addSlide),this.listenTo(this.model.components(),"remove",this.removeSlide),this.listenTo(this.model.parent(),"change:slides",this.handleSlidesNumChange),this.listenTo(this.model.parent(),"change:showCaptions",this.toggleCaptions),this.orderIds()},orderIds:function(){this.model.set("orderId",this.model.get("components").map(function(t){return t.cid}))},toggleCaptions:function(){this.model.parent().get("showCaptions")?this.model.parent().removeClass("caption-none"):this.model.parent().addClass("caption-none")},addSlide:function(t){if(this.orderIds(),this.model.get("shouldRefresh")){if(""===t.changed.status)return this.model.parent().view.addSlide(),void this.resetCaptionsAndUpdateLength();var e=this.model.components().models.findIndex(function(e){return e.cid===t.cid}),i=this.model.get("components").parent.parent().components().models[3].components(),a=i.models[e-1].clone();i.set(i.models.slice(0,e).concat([a],i.models.slice(e))),this.model.parent().view.addSlide(),this.resetCaptionsAndUpdateLength()}},resetCaptionsAndUpdateLength:function(){var e=this,i=this.model.parent().get("components").models[3].get("components");o()(Array(i.length).keys()).forEach(function(t){i.at(t).setClass("ch-carousel-caption")}),i.at(0).addClass("active"),this.model.parent().get("components").models[0].view.el.innerHTML="".concat(1," of ",this.model.get("components").length),setTimeout(function(){return t.select(e.model.get("components").at(0))},0)},removeSlide:function(t){if(this.model.get("shouldRefresh")){var e=this.model.get("orderId").findIndex(function(e){return e===t.cid}),i=this.model.get("components").parent.parent().components().models[3].components();i.set(i.models.slice(0,e).concat(i.models.slice(e+1))),this.resetCaptionsAndUpdateLength(),this.resetActive(this.model.get("components")),this.model.parent().view.removeSlide()}this.orderIds()},handleSlidesNumChange:function(){this.model.set("shouldRefresh",!1),this.model.set("carouselSlides",this.model.parent().get("slides")),this.updateSlides(),this.model.parent().view.updateNumSlides(),this.model.set("shouldRefresh",!0)},updateSlides:function(){var t=this.model.get("components"),e=parseInt(this.model.get("carouselSlides")),i=(this.el.id,e-t.length),a=Math.abs(i);i<0?this.reduce(t,a):i>0&&this.increse(t,a),this.resetActive(t)},reduce:function(t,e){o()(Array(e).keys()).forEach(function(e){t.pop(),t.parent.parent().components().models[3].components().pop()})},increse:function(t,e){o()(Array(e).keys()).forEach(function(e){t.add('<div class="item carousel-item" data-type="slide"></div>'),t.parent.parent().components().models[3].components().add('<div class="ch-carousel-caption" data-type="text">New Slide</div>')})},resetActive:function(t){o()(Array(t.length).keys()).forEach(function(e){t.at(e).setClass("item carousel-item")}),t.at(0).addClass("active")}});i.addType(l,{model:d,view:c})}(t,e),function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=t.DomComponents,i=e.getType("carousel-base"),a=i.model,n=i.view,o="carousel-control",r=a.extend({defaults:s()({},a.prototype.defaults,{traits:[]})},{isComponent:function(t){return"A"===t.tagName&&t.className.includes("ch-carousel-control")?{type:o}:""}}),l=n.extend({init:function(){},events:{click:"click"},click:function(t){t.preventDefault()}});e.addType(o,{model:r,view:l})}(t,e),r(t,e),function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=t.DomComponents,i=e.getType("carousel-base"),a=i.model,n=i.view,o=a.extend({defaults:s()({},a.prototype.defaults,{draggable:!1,selectable:!0,removable:!0,copyable:!0,toolbar:[{attributes:{class:"far fa-trash-alt"},command:"tlb-delete"},{attributes:{class:"far fa-clone"},command:"tlb-clone"},{attributes:{class:"far fa-arrow-up"},command:"select-parent"}],stylable:["border-color","border-width","border-radius","border-style","background-color","opacity","margin","margin-left","margin-right","margin-bottom","margin-top","padding","padding-left","padding-right","padding-bottom","padding-top","min-width","max-width","min-height","max-height"]})},{isComponent:function(t){if(t.className&&t.className.includes)return"DIV"===t.tagName&&t.className.includes("item")?{type:"slide"}:""}}),r=n;e.addType("slide",{model:o,view:r})}(t,e),function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var e=t.DomComponents,i=e.getType("carousel-base"),a=i.model,n=i.view,o="indicator-point",r=a.extend({defaults:s()({},a.prototype.defaults,{selectable:!1,hoverable:!1})},{isComponent:function(t){if(t.className&&t.className.includes)return"div"===t.tagName&&t.className.includes("indicator-point")?{type:o}:""}}),l=n;e.addType(o,{model:r,view:l})}(t,e),l(t,e)};e.default=grapesjs.plugins.add("grapesjs-bootstrap3-carousel-plugin",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=s()({},{carouselBlock:{},mpgBlock:{},prefixName:"bst-carousel",autoplay:!0,interval:5e3,slides:3,showIndicator:!0,showCaptions:!0,mpgCss:"https://ettrics.github.io/material-photo-gallery/dist/css/material-photo-gallery.css",mpgJs:"https://ettrics.github.io/material-photo-gallery/dist/js/material-photo-gallery.min.js"},e);d(t,i),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.BlockManager;i.add("".concat(e.prefixName,"-carousel"),s()({label:"Slider",content:{type:"slider"},attributes:{class:"fa fa-sliders"}},e.carouselBlock)),i.add("".concat(e.prefixName,"-mpg"),s()({label:"Material Photo Gallery",content:'\n                <div class="'.concat(e.prefixName,'-m-p-g" data-type="mpg-gallery" style="display: block;overflow: auto;">\n\t\t\t<div class="m-p-g__thumbs" data-google-image-layout data-max-height="350" style="display: block;overflow: auto;">\n\t\t\t\t<img src="http://unsplash.it/600/400?image=940" data-full="http://unsplash.it/1200/800?image=940" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/640/450?image=906" data-full="http://unsplash.it/1280/900?image=906" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/550/420?image=885" data-full="http://unsplash.it/1100/840?image=885" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/650/450?image=823" data-full="http://unsplash.it/1300/900?image=823" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/600/350?image=815" data-full="http://unsplash.it/1200/700?image=815" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/560/500?image=677" data-full="http://unsplash.it/1120/1000?image=677" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/600/400?image=940" data-full="http://unsplash.it/1200/800?image=940" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/670/410?image=401" data-full="http://unsplash.it/1340/820?image=401" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/620/340?image=623" data-full="http://unsplash.it/1240/680?image=623" class="m-p-g__thumbs-img" />\n\t\t\t\t<img src="http://unsplash.it/790/390?image=339" data-full="http://unsplash.it/1580/780?image=339" class="m-p-g__thumbs-img" />\n\t\t\t</div>\n\n\t\t\t<div class="m-p-g__fullscreen"></div>\n\t\t</div>\n            '),attributes:{class:"fa fa-th-large"}},e.mpgBlock))}(t,i)})}])});
//# sourceMappingURL=grapesjs-bootstrap3-carousel-plugin.min.js.map